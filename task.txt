

вот все мое тз:"Система авиакомпания" Авиакомпания имеет список рейсов. Диспетчер формирует летную Бригаду (пилоты, штурман, радист, стюардессы) на Рейс. Администратор управляет списком рейсов.

---


на основании тз я придумал это,

сделай таблицу со списком рейсов (время и дата отправления и прибытия, место отправления, место прибытия, номер рейса)

сделай чтобы к рейсу можно было добавлять людей, поля: имя, фамилия, отчество (опционально), профессия, телефон (опционально)

создай 2 user role (dispatcher, admin)

регистрироваться нельзя, можно логиниться по логину и паролю
после логина бэк возвращает токен и roleName. 

действия доступные бех токена всем пользователям даже незалогининым: получение списка рейсов с их бригадой

действия доступные с токеном dispatcher: изменнение участников бригады, их добавление и удаление

действия доступные с токеном admin: изменние, добавление и удаление рейсов

сделай при запуске бэка заполнение таблицами и моковыми данными.

твоя задача добавить все это в мой шаблон бэка, не пиши комментарии в коде, пиши максимально просто и тупо.

index.js

const express = require('express');
const cors = require('cors');
const { Sequelize, DataTypes, Op } = require('sequelize');

const app = express();

app.use(cors());
app.use(express.json());

const sequelize = new Sequelize('test_10_db', 'root', '', {
    host: 'localhost',
    host: '127.0.0.1',
    port: 3307,
    dialect: 'mysql',
});

---

package.json

{
  "name": "backend",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "node --watch index.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "type": "commonjs",
  "dependencies": {
    "cors": "^2.8.5",
    "express": "^5.2.0",
    "mysql2": "^3.15.3",
    "sequelize": "^6.37.7"
  }
}


--




